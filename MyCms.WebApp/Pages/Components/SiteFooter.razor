@using MyCms.Domain.Dto
@using MyCms.WebApp.Models


<footer class="footer footer--light">
    <div class="container">
        <div class="footer__widgets">
            <div class="row">
                <div class="col-lg-3 col-md-6">
                    <aside class="widget widget-logo">
                        <a href="index.html">
                            <img src="img/logo_default_white.png" srcset="img/logo_default_white.png 1x, img/logo_default_white@2x.png 2x" class="logo__img" alt="">
                        </a>
                        <p class="copyright">
                            استفاده از مطالب تاپ‌کالا مگ برای مقاصد غیرتجاری با ذکر نام تاپ‌کالا مگ و لینک به منبع بلامانع است. حقوق این سایت به شرکت توس وردپرس(فروشگاه آنلاین تاپ‌کالا) تعلق دارد.
                        </p>
                        <SocialMedia></SocialMedia>
                    </aside>
                </div>
                <div class="col-lg-2 col-md-6">
                    <aside class="widget widget_nav_menu">
                        <h4 class="widget-title">دسته بندی اخبار</h4>
                        <ul>
                            <CategoryTitle></CategoryTitle>
                        </ul>
                    </aside>
                </div>
                <div class="col-lg-4 col-md-6">
                    <aside class="widget widget-popular-posts">
                        <h4 class="widget-title">محبوب ترین مقالات</h4>
                        <ul class="post-list-small">
                            @foreach (var item in NewsDto)
                            {
                                <FavoriteNews NewsDto="@item"></FavoriteNews>
                            }
                        </ul>
                    </aside>
                </div>
                <div class="col-lg-3 col-md-6">
                    <Register></Register>
                </div>

            </div>
        </div>
    </div>
</footer>
<div id="back-to-top">
    <a href="#top" aria-label="Go to top"><i class="ui-arrow-up"></i></a>
</div>

@code
{
    private List<NewsDto> NewsDto { get; set; } = new List<NewsDto>();

    protected override async Task OnInitializedAsync()
    {
        NewsDto = await _http.GetFromJsonAsync<List<NewsDto>>(Const.SiteUrl + "/api/TopNewsLike");
    }
}